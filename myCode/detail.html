<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>京东(JD.COM)-综合网购首选-正品低价、品质保障、配送及时、轻松购物！</title>
    <meta name="description" content="京东JD.COM-专业的综合网上购物商城,销售家电、数码通讯、电脑、家居百货、服装服饰、母婴、图书、食品等数万个品牌优质商品.便捷、诚信的服务，为您提供愉悦的网上购物体验!" />
	<meta name="Keywords" content="网上购物,网上商城,手机,笔记本,电脑,MP3,CD,VCD,DV,相机,数码,配件,手表,存储卡,京东" />
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/detail.css" />
</head>
<body>
    <div class="shortcut">
        <div class="w">
            <ul class="fl city">
                <li><i class="f10"></i><a href="#">北京</a></li>
            </ul>
            <ul class="fr nav">
                <li>
                    <a href="login.html">你好，请登录</a>
                    <a href="register.html" class="f10">免费注册</a>
                </li>
                <li class="space"></li>
                <li>
                    <a href="pay.html">我的订单</a>
                </li>
                <li class="space"></li>
                <li>
                    <a href="#">我的京东</a>
                    <i></i>
                    <div class="dropdown-layer">
                        <dl class="d">
                            <dd><a href="#">待处理订单</a></dd>
                            <dd><a href="#">返修退换货</a></dd>
                            <dd><a href="#">降价商品</a></dd>
                        </dl>
                        <dl class="d">
                            <dd><a href="#">消息</a></dd>
                            <dd><a href="#">我的问答</a></dd>
                            <dd><a href="#">我的关注</a></dd>
                        </dl>
                        <dl>
                            <dd><a href="#">我的京豆</a></dd>
                            <dd><a href="#">我的白条</a></dd>
                        </dl>
                        <dl>
                            <dd><a href="#">我的优惠券</a></dd>
                            <dd><a href="#">我的理财</a></dd>
                        </dl>
                    </div>
                </li>
                <li class="space"></li>
                <li>
                    <a href="#">京东会员</a>
                </li>
                <li class="space"></li>
                <li>
                    <a href="#">企业采购</a>
                </li>
                <li class="space"></li>
                <li>
                    <a href="#">客户服务</a>
                    <i></i>
                    <div class="dropdown-layer">
                        <dl class="d">
                            <dd><a href="#">待处理订单</a></dd>
                            <dd><a href="#">返修退换货</a></dd>
                            <dd><a href="#">降价商品</a></dd>
                        </dl>
                        <dl class="d">
                            <dd><a href="#">消息</a></dd>
                            <dd><a href="#">我的问答</a></dd>
                            <dd><a href="#">我的关注</a></dd>
                        </dl>
                        <dl>
                            <dd><a href="#">我的京豆</a></dd>
                            <dd><a href="#">我的白条</a></dd>
                        </dl>
                        <dl>
                            <dd><a href="#">我的优惠券</a></dd>
                            <dd><a href="#">我的理财</a></dd>
                        </dl>
                    </div>
                </li>
                <li class="space"></li>
                <li>
                    <a href="#">网站导航</a>
                    <i></i>
                    <div class="dropdown-layer">
                        <dl class="d">
                            <dd><a href="#">待处理订单</a></dd>
                            <dd><a href="#">返修退换货</a></dd>
                            <dd><a href="#">降价商品</a></dd>
                        </dl>
                        <dl class="d">
                            <dd><a href="#">消息</a></dd>
                            <dd><a href="#">我的问答</a></dd>
                            <dd><a href="#">我的关注</a></dd>
                        </dl>
                        <dl>
                            <dd><a href="#">我的京豆</a></dd>
                            <dd><a href="#">我的白条</a></dd>
                        </dl>
                        <dl>
                            <dd><a href="#">我的优惠券</a></dd>
                            <dd><a href="#">我的理财</a></dd>
                        </dl>
                    </div>
                </li>
                <li class="space"></li>
                <li class="mobile">
                    <a href="#">手机京东</a>
                     <img src="images/mobile.png" height="60" width="60" alt="">
                     <i class="close-btn">x</i>
                </li>
            </ul>
        </div>
    </div>
    <div class="m">
        <div class="w middle">
            <div class="logo">
            <h1>  <!-- 提高权重 便利于搜索引擎优化 -->
                <a href="index.html" title="京东">京东</a>   
            </h1>
            </div>
            <div class="form">
                <input id="text" type="text" placeholder="扫描仪">
                <button><i></i></button> 
            </div>
            <div class="shopCar">
                <i></i><a href="cart.html" class="f10">我的购物车</a><span>8</span>
            </div>
            <div class="hotwords">
                <a href="#" class="f10">199减100</a>
                <a href="#">鼠标试用</a>
                <a href="#">农资7折</a>
                <a href="#">低至29元</a>
                <a href="#">抽奖赢空调</a>
                <a href="#">记忆棉</a>
                <a href="#">坐垫</a>
                <a href="#">1分钱买油</a>
                <a href="#">智能手表</a>
            </div>
            <div class="navitems">
            <ul>
                <li><a href="list.html">秒杀</a></li>
                <li><a href="#">优惠券</a></li>
                <li><a href="#">闪购</a></li>
                <li><a href="#">拍卖</a></li>
                <li class="space "></li>
                <li><a href="#">服装城</a></li>
                <li><a href="#">京东超市</a></li>
                <li><a href="#">生鲜</a></li>
                <li><a href="#">全球购</a></li>
                <li class="space"></li>
                <li><a href="#">京东金融</a></li>
            </ul>
            </div>
        </div>
    </div>
    <div class="de_container">
        <div class="w">
            <div class="crumb_wrap">
                <a href="#">手机、数码、通讯</a> > 
                <a href="#">手机</a> > 
                <a href="#">Apple苹果</a> > 
                <a href="#">iphone 6S系类</a> 
            </div>
            <div class="product_intro">
                <div class="preview_wrap fl">
                    <div class="preview_img">
                        <div class="small">
                            <img src="uploads/b1.jpg" width="100%" alt="">
                            <div class="mask"></div>
                        </div>                     
                        <div class="big" id="#big">
                            <img src="uploads/b1.jpg" width="800px" alt="" class="bigimg">
                        </div>
                    </div>
                    <div class="preview_list">
                        <ul class="list_item">
                            <li><img src="uploads/b2.jpg" alt="" width="56px"></li>
                            <li><img src="uploads/b3.jpg" alt="" width="56px"></li>
                            <li><img src="uploads/b4.jpg" alt="" width="56px"></li>
                            <li><img src="uploads/b5.jpg" alt="" width="56px"></li>
                        </ul>
                    </div>
                </div>
                <div class="itemInfo_wrap fr">
                    <div class="sku_name">
                        【超级爆款】华为 HUAWEI P30 Pro 超感光徕卡四摄10倍混合变焦麒麟980芯片屏内指纹 8GB+128GB天空之境全网通版双4G手机
                    </div>
                    <div class="news">
                        购买1-50件时享受单件价￥4758，超出数量以结算价为准
                    </div>
                    <div class="summary">
                        <dl class="summary_price">
                            <dt>闪购价</dt>
                            <dd>
                                <i class="price">¥4788.00</i> 
                                <a href="#">降价通知</a>
                                <div class="remark">累计评价51万+</div>
                            </dd>
                        </dl>
                        <dl class="summary_promotion">
                            <dt>促销</dt>
                            <dd>
                                <em>加购价</em> 满999.00另加20.00元，或满1999.00另加30.00元，或满2999.00另加40.00元，即可在购物车换购热销商品 详情》
                            </dd>
                        </dl>
                        <dl class="summary_support">
                            <dt>支持</dt>
                            <dd>以旧换新，闲置手机回收 4G套餐超值抢 礼品购</dd>
                        </dl>
                        <dl class="summary_stock">
                            <dt>配送至</dt>
                            <dd>
                                北京海淀区中关有货 支持 99元免运费 |货到付款 |211限时达
                                <br>由自营发货，并提供售后服务。11:00前完成下单，预计今天（11月19日）送达
                            </dd>
                        </dl>
                        <dl class="choose_color">
                            <dt>选择颜色</dt>
                            <dd>
                                <a href="javasript:;" class="current">天空之境</a>
                                <a href="javasript:;">亮黑色</a>
                                <a href="javasript:;">极光色</a>
                                <a href="javasript:;">赤茶橘</a>
                                <a href="javasript:;">珠光贝母</a>
                                <a href="javasript:;">嫣紫色</a>
                                <a href="javasript:;">墨玉蓝</a>
                            </dd>
                        </dl>
                        <dl class="choose_version">
                            <dt>选择版本</dt>
                            <dd>
                                <a href="javascript:;" class="current">公开版</a>
                                <a href="javascript:;">移动4G</a>
                            </dd>
                        </dl>
                        <dl class="choose_version">
                            <dt>内存容量</dt>
                            <dd>
                                <a href="javascript:;" class="current">8G+218G</a>
                                <a href="javascript:;">8G+256G</a>
                                <a href="javascript:;">8G+512G</a>
                            </dd>
                        </dl>
                        <dl class="choose_type">
                            <dt>购买方式</dt>
                            <dd>
                                <a href="javascript:;" class="current">官方标配</a>
                                <a href="javascript:;">移动优惠购</a>
                                <a href="javascript:;">电信优惠购</a>
                            </dd>
                        </dl>
                        <dl class="choose_type">
                            <dt>套餐</dt>
                            <dd>
                                <a href="javascript:;" class="current">保护套餐</a>
                                <a href="javascript:;">充电套餐</a>
                            </dd>
                        </dl>
                        <div class="choose_btns">
                            <div class="choose_amount">
                                <input type="text" value="1">
                                <a href="javascript:;" class="add">+</a>
                                <a href="javascript:;" class="reduce">-</a>
                            </div>
                            <a href="cart.html" class="addCar">加入购物车</a>
                        </div>
                    </div>
                </div>
            </div> 
        </div>
    </div>
    <footer>
        <div class="service">
            <!-- 服务模块 -->
            <div class="w">
                <ul>
                    <li>	
                        <h5></h5>
                        <p>品类齐全，轻松购物</p>
                    </li>
                    <li>	
                        <h5></h5>
                        <p>品类齐全，轻松购物</p>
                    </li>
                    <li>	
                        <h5></h5>
                        <p>品类齐全，轻松购物</p>
                    </li>
                    <li>	
                        <h5></h5>
                        <p>品类齐全，轻松购物</p>
                    </li>
                </ul>
            </div>
        </div>
        <!-- 帮助模块 -->
        <div class="w help">
            <div class="fl">
                <dl>
                    <dt>购物指南</dt>
                    <dd><a href="#">购物流程</a></dd>
                    <dd><a href="#">会员介绍</a></dd>
                    <dd><a href="#">生活旅行</a></dd>
                    <dd><a href="#">常见问题</a></dd>
                    <dd><a href="#">大家电</a></dd>
                    <dd><a href="#">联系客服</a></dd>
                </dl>
                <dl>
                    <dt>配送方式</dt>
                    <dd><a href="#">上门自提</a></dd>
                    <dd><a href="#">211限时达</a></dd>
                    <dd><a href="#">配送服务查询</a></dd>
                    <dd><a href="#">配送费收取标准</a></dd>
                    <dd><a href="#">海外配送</a></dd>
                </dl>
                <dl>
                    <dt>支付方式</dt>
                    <dd><a href="#">货到付款</a></dd>
                    <dd><a href="#">在线支付</a></dd>
                    <dd><a href="#">分期付款</a></dd>
                    <dd><a href="#">邮局汇款</a></dd>
                    <dd><a href="#">公司转账</a></dd>
                </dl>
                <dl>
                    <dt>售后服务</dt>
                    <dd><a href="#">售后政策</a></dd>
                    <dd><a href="#">价格保护</a></dd>
                    <dd><a href="#">退款说明</a></dd>
                    <dd><a href="#">返修/退换货</a></dd>
                    <dd><a href="#">取消订单</a></dd>
                </dl>
                <dl>
                    <dt>特色服务</dt>
                    <dd><a href="#">夺宝岛</a></dd>
                    <dd><a href="#">DIY装机</a></dd>
                    <dd><a href="#">延保服务</a></dd>
                    <dd><a href="#">京东E卡</a></dd>
                    <dd><a href="#">京东通信</a></dd>
                    <dd><a href="#">京鱼座智能</a></dd>
                </dl>
            </div>
            <div class="fr coverage">
                <h5>京东自营覆盖区县</h5>
                <p>京东已向全国2661个区县提供自营配送服务，支持货到付款、POS机刷卡和售后上门服务。</p>
                <a href="#">查看详情 > </a>
            </div>
        </div>
        <div class="w copyright">
            <p>
                <a href="#">关于我们</a>
                <span> | </span>
                <a href="#">联系我们</a>
                <span> | </span>
                <a href="#">联系客服</a>
                <span> | </span>
                <a href="#">合作招商</a>
                <span> | </span>
                <a href="#">商家帮助</a>
                <span> | </span>
                <a href="#">营销中心</a>
                <span> | </span>
                <a href="#">手机京东</a>
                <span> | </span>
                <a href="#">友情链接</a>
                <span> | </span>
                <a href="#">销售联盟</a>
                <span> | </span>
                <a href="#">京东社区</a>
                <span> | </span>
                <a href="#">风险监测</a>
                <span> | </span>
                <a href="#">隐私政策</a>
                <span> | </span>
                <a href="#">京东公益</a>
                <span> | </span>
                <a href="#">English Site</a>
                <span> | </span>
                <a href="#">Media & IR</a>
            </p>
            <div>
                <p>京公网安备 11000002000088号<span>|</span>京ICP证070359号<span>|</span>互联网药品信息服务资格证编号(京)-经营性-2014-0008<span>|</span>新出发京零 字第大120007号</p>
                <p>互联网出版许可证编号新出网证(京)字150号<span>|</span>出版物经营许可证<span>|</span>网络文化经营许可证京网文[2014]2148-348号<span>|</span>违法和不良信息举报电话：4006561155</p>
                <p>Copyright © 2004 - 2019  京东JD.com 版权所有<span>|</span>消费者维权热线：4006067733经营证照|(京)网械平台备字(2018)第00003号<span>|</span>营业执照</p>
                <p>Global Site<span>|</span>Сайт России<span>|</span>Situs Indonesia<span>|</span>Sitio de España<span>|</span>เว็บไซต์ประเทศไทย</p>
                <p>京东旗下网站：京东钱包<span>|</span>京东云</p>
            </div>
            <p class="foot-icon">
                <a href="#"></a>
                <a href="#"></a>
                <a href="#"></a>
                <a href="#"></a>
                <a href="#"></a>
                <a href="#"></a>
            </p>
        </div>
    </footer>
    <script src="js/detail.js"></script>    
    <script>
        // 1 获取节点
        var boxObj = document.querySelector('.preview_img'),
            smallObj = boxObj.firstElementChild,
            maskObj = smallObj.lastElementChild,
            bigObj = document.querySelector('.big'),
            bigImg = bigObj.lastElementChild;
            console.log(smallObj,maskObj);
        // 2 绑定鼠标移入事件
        smallObj.onmouseenter = function () {
            // 2-1 显示小黄块和大图
            maskObj.style.display = 'block';
            bigObj.style.display = 'block';
        }

        // 3 绑定鼠标移出事件
        smallObj.onmouseleave = function () {
            maskObj.style.display = 'none';
            bigObj.style.display = 'none';
        }
        // 获取box相对于body的left和top值
        let boxT = boxObj.offsetTop;
        let boxL = boxObj.offsetLeft;


        // 4 鼠标移动事件,设置mask跟随鼠标移动
        smallObj.onmousemove = function (eve) {
            // console.log(eve);
            /*
            mask 父级 small 具有定位属性
            设置的left和top值,就是相对于small的,不能使用clientX

            当我们将mask的位置设置到鼠标的位置,此时鼠标再移动获取的在元素位置值,就是相对于mask
            此时不能使用offsetX/Y 直接设置 
            */

            // 4-1 获取鼠标相对于可视区的坐标
            // let cX = eve.clientX;
            // let cY = eve.clientY;
            let cX = eve.pageX;
            let cY = eve.pageY;
            // console.log(cX, cY);
            // 默认mask的属性是display为none,获取不到.获取mask的宽度和高度
            let maskW = maskObj.offsetWidth;
            let maskH = maskObj.offsetHeight;
            // console.log(maskH, maskW);
            // 4-2 计算mask的坐标
            let maskL = cX - boxL - maskW / 2;
            let maskT = cY - boxT - maskH / 2;
            // console.log(maskL, maskT);
            // 4-3 计算mask的边框
            // 判断是否超出上和左边界
            if (maskL < 0) maskL = 0
            if (maskT < 0) maskT = 0

            // 计算最大值,不能从右边和下边出去
            let maxMaskL = smallObj.offsetWidth - maskW;
            let maxMaskT = smallObj.offsetHeight - maskH;
            // console.log(maxMaskL, maxMaskT);
            if (maskL > maxMaskL) { maskL = maxMaskL }
            if (maskT > maxMaskT) maskT = maxMaskT

            // 将值 设置给 mask
            maskObj.style.left = maskL + 'px'
            maskObj.style.top = maskT + 'px'

            /*
            小黄块和大图的关系
        
            小黄块的实时left/小黄块移动的最大left  = 大图的实时位置left/ 大图能移动的最大left值
            
            */

            //5 计算大图能够移动的最大left和top值
            let bigMaxLeft = bigImg.offsetWidth - bigObj.offsetWidth;
            let bigMaxTop = bigImg.offsetHeight - bigObj.offsetHeight;

            // 5-1 计算大图的实时位置
            let tmpBigImgLeft = maskL / maxMaskL * bigMaxLeft;
            let tmpBigImgTop = maskT / maxMaskT * bigMaxTop;

            // 5-2 设置大图的位置
            bigImg.style.left = -tmpBigImgLeft + 'px';
            bigImg.style.top = -tmpBigImgTop + 'px';
        }
    </script>
</body>
</html>